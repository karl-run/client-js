{"version":3,"file":"fhir-client.min.js","sources":["../../../src/HttpError.ts","../../../src/settings.ts","../../../src/debug.ts","../../../src/lib.ts","../../../src/strings.ts","../../../src/Client.ts","../../../src/smart.ts","../../../src/storage/BrowserStorage.ts","../../../src/base64/browser.ts","../../../src/security/browser.ts","../../../src/entry/browser.ts","../../../src/adapters/BrowserAdapter.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["HttpError","Error","constructor","response","super","status","statusText","url","this","name","statusCode","parse","bodyUsed","type","headers","get","match","body","json","error","message","error_description","JSON","stringify","text","toJSON","patientCompartment","fhirVersions","patientParams","SMART_KEY","debug","window","process","env","NODE_DEBUG","require","localStorage","debugFhirClient","args","newArgs","shift","push","console","cache","units","cm","code","value","ensureNumerical","kg","any","pq","loweCaseKeys","obj","Array","isArray","map","v","out","Object","keys","forEach","key","lowerKey","toLowerCase","async","request","requestOptions","includeResponse","options","fetch","mode","accept","resp","ok","checkResponse","then","length","location","method","undefined","getAndCache","force","_b","_a","globalThis","NODE_ENV","fetchConformanceStatement","baseUrl","String","replace","catch","ex","getPath","path","trim","segments","split","result","o","join","setPath","createEmpty","reduce","idx","arr","makeArray","arg","absolute","jwtDecode","token","payload","base64decode","getTimeInFuture","secondsAhead","from","Math","floor","Date","getAccessTokenExpiration","tokenResponse","now","expires_in","access_token","tokenBody","exp","byCode","observations","property","ret","handleCodeableConcept","concept","observation","coding","resourceType","assert","condition","str","contextualize","client","base","state","serverUrl","contextualURL","_url","pathname","pop","indexOf","searchParam","conformance","meta","find","r","x","p","getPatientParam","searchParams","set","patient","id","href","URL","resolveRefs","fhirOptions","paths","resolveReferences","filter","Boolean","i","Promise","resolve","groups","len","task","sort","group","all","graph","node","item","ref","reference","refId","signal","res","getRef","sub","resolveRef","Client","environment","_state","_refreshTask","getPatientId","read","reject","encounter","getEncounterId","user","fhirUser","getFhirUser","getUserId","getUserType","scope","authorizeUri","getIdToken","idToken","id_token","hasOpenid","hasProfile","hasFhirUser","slice","profile","getAuthorizationHeader","accessToken","getState","username","password","base64encode","_clearState","storage","getStorage","unset","create","resource","update","patch","operation","op","assertJsonPatch","prefer","_resolvedRefs","flat","pageLimit","useRefreshToken","onPage","refreshIfNeeded","authHeader","authorization","data","Response","_data","entry","links","link","next","l","relation","nextPage","assign","references","concat","refreshToken","expiresAt","refresh","refresh_token","tokenUri","scopes","hasOfflineAccess","search","hasOnlineAccess","refreshRequestOptions","credentials","refreshTokenWithCredentials","encodeURIComponent","clientSecret","clientId","finally","byCodes","bank","codes","prev","getFhirVersion","metadata","fhirVersion","getFhirRelease","isBrowser","getSecurityExtensionsFromWellKnownJson","fetchWellKnownJson","authorization_endpoint","token_endpoint","registrationUri","registration_endpoint","codeChallengeMethods","code_challenge_methods_supported","getSecurityExtensions","extensions","e","extension","ext","valueUri","getSecurityExtensionsFromConformanceStatement","authorize","params","getUrl","urlISS","cfg","issMatch","RegExp","test","fakeTokenResponse","encounterId","target","width","height","pkceMode","clientPublicKeySetUrl","iss","launch","patientId","fhirServiceUrl","redirectUri","noRedirect","completeInTarget","clientPrivateJwk","relative","inFrame","isInFrame","inPopUp","isInPopUp","warn","oldKey","stateKey","strLength","charSet","charAt","random","randomString","redirectUrl","redirect","redirectParams","S256supported","shouldIncludeChallenge","includes","security","generatePKCEChallenge","codeChallenge","win","self","parent","top","targetWindow","open","screen","winOrFrame","frames","getTargetWindow","sessionStorage","removeItem","setItem","addEventListener","onMessage","opener","origin","removeEventListener","ready","Storage","authError","authErrorDescription","postMessage","close","delete","hasState","has","history","replaceState","privateKey","codeVerifier","pk","importJWK","jwtHeaders","typ","kid","jku","jwtClaims","aud","jti","base64urlencode","randomBytes","clientAssertion","signCompactJws","alg","buildTokenRequest","input","Uint8Array","binary","fromCharCode","uint8ArrayToBinaryString","btoa","base64urldecode","base64","pad","repeat","atob","subtle","crypto","isSecureContext","ALGS","ES384","namedCurve","RS384","modulusLength","publicExponent","hash","count","getRandomValues","digestSha256","prepared","TextEncoder","encode","digest","entropy","jwk","key_ops","importKey","header","jwtHeader","jwtPayload","jwtAuthenticatedContent","signature","sign","algorithm","init","utils","_storage","to","BrowserStorage","getSmartApi","authorizeOptions","readyOptions","cached","bind","oauth2","settings"],"mappings":"iCACqB,MAAAA,UAAkBC,MAwBnC,WAAAC,CAAYC,GACRC,MAAM,GAAGD,EAASE,UAAUF,EAASG,oBAAoBH,EAASI,OAClEC,KAAKC,KAAa,YAClBD,KAAKL,SAAaA,EAClBK,KAAKE,WAAaP,EAASE,OAC3BG,KAAKH,OAAaF,EAASE,OAC3BG,KAAKF,WAAaH,EAASG,UAC9B,CAED,WAAMK,GAEF,IAAKH,KAAKL,SAASS,SACf,IACI,MAAMC,EAAOL,KAAKL,SAASW,QAAQC,IAAI,iBAAmB,aAC1D,GAAIF,EAAKG,MAAM,aAAc,CACzB,IAAIC,QAAaT,KAAKL,SAASe,OAC3BD,EAAKE,OACLX,KAAKY,SAAW,KAAOH,EAAKE,MACxBF,EAAKI,oBACLb,KAAKY,SAAW,KAAOH,EAAKI,oBAIhCb,KAAKY,SAAW,OAASE,KAAKC,UAAUN,EAAM,KAAM,EAE3D,MACI,GAAIJ,EAAKG,MAAM,YAAa,CAC7B,IAAIC,QAAaT,KAAKL,SAASqB,OAC3BP,IACAT,KAAKY,SAAW,OAASH,EAEhC,CACJ,CAAC,MAAQ,CAGd,OAAOT,IACV,CAED,MAAAiB,GACI,MAAO,CACHhB,KAAYD,KAAKC,KACjBC,WAAYF,KAAKE,WACjBL,OAAYG,KAAKH,OACjBC,WAAYE,KAAKF,WACjBc,QAAYZ,KAAKY,QAExB,ECpEE,MAAMM,EAAqB,CAC9B,UACA,eACA,qBACA,cACA,sBACA,aACA,QACA,WACA,gBACA,WACA,WACA,aACA,QACA,gBACA,qBACA,gBACA,uBACA,cACA,YACA,UACA,WACA,6BACA,8BACA,gBACA,gBACA,mBACA,qBACA,kBACA,mBACA,mBACA,oBACA,qBACA,YACA,oBACA,gBACA,uBACA,sBACA,OACA,OACA,QACA,kBACA,yBACA,eACA,eACA,yBACA,6BACA,UACA,OACA,gBACA,QACA,2BACA,qBACA,kBACA,oBACA,sBACA,oBACA,iBACA,cACA,QACA,UACA,SACA,YACA,mBACA,aACA,wBACA,kBACA,gBACA,eACA,kBACA,iBACA,WACA,iBACA,WACA,iBACA,gBACA,sBAMSC,EAAe,CACxB,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,GAOAC,EAAgB,CACzB,UACA,UACA,YACA,SACA,QACA,eAMSC,EAAY,YCvHZC,EAA0B,oBAAXC,QACvBC,QAAQC,IAAIC,YAAc,IAAIlB,MAAM,uBACjCmB,QAAQ,QAAQL,MAAM,cACtB,eACJM,mBAAY,IAAZA,kBAAY,EAAZA,aAAcC,iBACV,IAAIC,KACA,MAAMC,EAAU,CAAC,aAAeD,EAAKE,SACrCD,EAAQE,KAAK,oCAAqC,MAAOH,GACzDI,QAAQZ,SAASS,EAAQ,EAE7B,OCDFI,EAA6B,CAAA,EAKtBC,EAAQ,CACjB,EAAAC,EAAGC,KAAEA,EAAIC,MAAEA,IAEP,GADAC,EAAgB,CAAEF,OAAMC,UACZ,MAARD,EAAmB,OAAOC,EAC9B,GAAY,KAARD,EAAmB,OAAiB,IAAVC,EAC9B,GAAY,MAARD,EAAmB,OAAgB,KAATC,EAC9B,GAAY,WAARD,EAAmB,OAAgB,KAATC,EAC9B,GAAY,UAARD,EAAmB,OAAgB,KAATC,EAC9B,GAAY,MAARD,EAAmB,OAAe,MAARC,EAC9B,GAAY,WAARD,EAAmB,OAAe,MAARC,EAC9B,MAAM,IAAI9C,MAAM,6BAA+B6C,EAClD,EACD,EAAAG,EAAGH,KAAEA,EAAIC,MAAEA,IAEP,GADAC,EAAgB,CAAEF,OAAMC,UACZ,MAARD,EAAkB,OAAOC,EAC7B,GAAY,KAARD,EAAkB,OAAOC,EAAQ,IACrC,GAAID,EAAK9B,MAAM,MAAO,OAAO+B,EAAQ,QACrC,GAAID,EAAK9B,MAAM,MAAO,OAAO+B,EAAQ,OACrC,MAAM,IAAI9C,MAAM,6BAA+B6C,EAClD,EACDI,IAAIC,IACAH,EAAgBG,GACTA,EAAGJ,QAOlB,SAASC,GAAgBD,MAAEA,EAAKD,KAAEA,IAC9B,GAAqB,iBAAVC,EACP,MAAM,IAAI9C,MAAM,+BAAiC8C,EAAQ,IAAMD,EAEvE,CAuBM,SAAUM,EAAwDC,GAGpE,IAAKA,EACD,OAAOA,EAIX,GAAIC,MAAMC,QAAQF,GACd,OAAOA,EAAIG,KAAIC,GAAKA,GAAkB,iBAANA,EAAiBL,EAAaK,GAAKA,IAIvE,IAAIC,EAA2B,CAAA,EAM/B,OALAC,OAAOC,KAAKP,GAAKQ,SAAQC,IACrB,MAAMC,EAAWD,EAAIE,cACfP,EAAKJ,EAA4BS,GACvCJ,EAAIK,GAAYN,GAAiB,iBAALA,EAAgBL,EAAaK,GAAKA,CAAC,IAE5DC,CACX,CAcOO,eAAeC,EAClB3D,EACA4D,EAA0C,IAG1C,MAAMC,gBAAEA,KAAoBC,GAAYF,EAElChE,QAAiBmE,MAAM/D,EAAK,CAC9BgE,KAAM,UACHF,EACHvD,QAAS,CACL0D,OAAQ,sBACLpB,EAAaiB,EAAQvD,kBAhE7BmD,eAA6BQ,GAChC,IAAKA,EAAKC,GAAI,CACV,MAAMvD,EAAQ,IAAInB,EAAUyE,GAE5B,YADMtD,EAAMR,QACNQ,CACT,CACD,OAAOsD,CACX,CA6DUE,CAAcxE,GAEpB,MAAMU,EAAOV,EAASW,QAAQC,IAAI,gBAAkB,GAEpD,IAAIE,EA1DF,IAAyBwD,EAsE3B,GAVI5D,EAAKG,MAAM,aACXC,QA7DuBwD,EA6DKtE,EA5DzBsE,EAAKjD,OAAOoD,MAAKpD,GAAQA,EAAKqD,OAASvD,KAAKX,MAAMa,GAAQ,MA8DxDX,EAAKG,MAAM,cAChBC,QAAad,EAASqB,SAMrBP,GAA2B,KAAnBd,EAASE,OAAe,CACjC,MAAMyE,EAAW3E,EAASW,QAAQC,IAAI,YACtC,GAAI+D,EACA,OAAOZ,EAAQY,EAAU,IAAKT,EAASU,OAAQ,MAAO9D,KAAM,KAAMmD,mBAEzE,CAED,OAAIA,EACO,CAAEnD,OAAMd,iBAMN6E,IAAT/D,EACOd,EAIJc,CACX,CAUOgD,eAAegB,EAAY1E,EAAa4D,EAA8Be,WAIzE,YAJyE,IAAAA,IAAAA,EAAwD,UAAb,QAA1BC,EAAqB,QAArBC,SAAAC,iBAAU,IAAVA,gBAAU,EAAVA,WAAYrD,eAAS,IAAAoD,OAAA,EAAAA,EAAAnD,WAAK,IAAAkD,OAAA,EAAAA,EAAAG,YAChHJ,GAAUvC,EAAMpC,KAChBoC,EAAMpC,GAAO2D,EAAQ3D,EAAK4D,IAEvBxB,EAAMpC,EACjB,UASgBgF,EAA0BC,EAAU,IAAKrB,GAErD,MAAM5D,EAAMkF,OAAOD,GAASE,QAAQ,OAAQ,KAAO,WACnD,OAAOT,EAAY1E,EAAK4D,GAAgBwB,OAAOC,IAC3C,MAAM,IAAI3F,MACN,mDAAmDM,OAASqF,IAC/D,GAET,UAYgBC,EAAQxC,EAA0ByC,EAAO,IAErD,KADAA,EAAOA,EAAKC,QAER,OAAO1C,EAGX,IAAI2C,EAAWF,EAAKG,MAAM,KACtBC,EAAS7C,EAEb,KAAO6C,GAAUF,EAASnB,QAAQ,CAC9B,MAAMf,EAAMkC,EAASxD,QACrB,IAAKsB,GAAOR,MAAMC,QAAQ2C,GACtB,OAAOA,EAAO1C,KAAI2C,GAAKN,EAAQM,EAAGH,EAASI,KAAK,QAEhDF,EAASA,EAAOpC,EAAM,GAE7B,CAED,OAAOoC,CACX,CAUM,SAAUG,EAAQhD,EAA0ByC,EAAc/C,EAAYuD,GAAc,GAetF,OAdAR,EAAKC,OAAOE,MAAM,KAAKM,QACnB,CAAC7C,EAAKI,EAAK0C,EAAKC,KACZ,IAAI/C,GAAO8C,IAAQC,EAAI5B,OAAS,EAO5B,OAHInB,QAAoBsB,IAAbtB,EAAII,IAAsBwC,IACjC5C,EAAII,GAAO2C,EAAID,EAAM,GAAGxF,MAAM,YAAc,GAAK,IAE9C0C,EAAMA,EAAII,QAAOkB,EANxBtB,EAAII,GAAOf,CAOd,GAELM,GAEGA,CACX,CAQM,SAAUqD,EAAmBC,GAC/B,OAAIrD,MAAMC,QAAQoD,GACPA,EAEJ,CAACA,EACZ,CAQgB,SAAAC,EAASd,EAAcN,GAEnC,OAAIM,EAAK9E,MAAM,UACX8E,EAAK9E,MAAM,QADiB8E,EAEzBL,OAAOD,GAAW,IAAIE,QAAQ,OAAQ,IAAM,IAAMI,EAAKJ,QAAQ,OAAQ,GAClF,CA6BgB,SAAAmB,EAAUC,EAAe7E,GAErC,MAAM8E,EAAUD,EAAMb,MAAM,KAAK,GACjC,OAAOc,EAAUzF,KAAKX,MAAMsB,EAAI+E,aAAaD,IAAY,IAC7D,UAQgBE,EAAgBC,EAAuB,IAAKC,GACxD,OAAOC,KAAKC,OAAgB,IAAIC,KAAU,IAAOJ,EACrD,CASgB,SAAAK,EAAyBC,EAAyCvF,GAE9E,MAAMwF,EAAML,KAAKC,MAAMC,KAAKG,MAAQ,KAGpC,GAAID,EAAcE,WACd,OAAOD,EAAMD,EAAcE,WAI/B,GAAIF,EAAcG,aAAc,CAC5B,IAAIC,EAAYf,EAAUW,EAAcG,aAAc1F,GACtD,GAAI2F,GAAaA,EAAUC,IACvB,OAAOD,EAAUC,GAExB,CAGD,OAAOJ,EAAM,GACjB,CAcgB,SAAAK,EACZC,EACAC,GAGA,MAAMC,EAAiC,CAAA,EAEvC,SAASC,EAAsBC,EAA0CC,GACjED,GAAW7E,MAAMC,QAAQ4E,EAAQE,SACjCF,EAAQE,OAAOxE,SAAQ,EAAGf,WAClBA,IACAmF,EAAInF,GAAQmF,EAAInF,IAAS,GACzBmF,EAAInF,GAAML,KAAK2F,GAClB,GAGZ,CAYD,OAVA1B,EAAUqB,GAAclE,SAAQsC,IACL,gBAAnBA,EAAEmC,cAAkCnC,EAAE6B,KAClC1E,MAAMC,QAAQ4C,EAAE6B,IAChB7B,EAAE6B,GAAUnE,SAASsE,GAA6CD,EAAsBC,EAAShC,KAEjG+B,EAAsB/B,EAAE6B,GAAW7B,GAE1C,IAGE8B,CACX,CAsKgB,SAAAM,EAAOC,EAAgBpH,GACnC,IAAI,EACA,MAAM,IAAInB,MAAMmB,EAExB,CC1iBe,IAAAqH,EACI,4CADJA,EAEI,qHAFJA,EAGI,8DAHJA,EAII,6FCyBnBxE,eAAeyE,EACXvE,EACAwE,GAGA,MAAMC,EAAOhC,EAAS,IAAK+B,EAAOE,MAAMC,WAExC7E,eAAe8E,EAAcC,GACzB,MAAMV,EAAeU,EAAKC,SAAShD,MAAM,KAAKiD,MAC9CX,EAAOD,EAAc,gBAAgBU,MACrCT,EAAO7G,EAAmByH,QAAQb,IAAiB,EAAG,kBAAkBA,2BACxE,MACMc,EFwXE,SAAgBC,EAAkDf,GAG9E,MAGMgB,GAHYzD,EAAQwD,EAAa,oBAAsB,IAGtCE,MAAMC,GAAWA,EAAE3I,OAASyH,IACnD,IAAKgB,EACD,MAAM,IAAIrJ,MAAM,aAAaqI,2CAIjC,IAAKhF,MAAMC,QAAQ+F,EAAKF,aACpB,MAAM,IAAInJ,MAAM,uCAAuCqI,0BAI3D,GAAoB,WAAhBA,GAA6BgB,EAAKF,YAAYG,MAAME,GAAqB,OAAVA,EAAEhJ,OACjE,MAAO,MAIX,MAAMiD,EAAM9B,EAAc2H,MAAKG,GAAKJ,EAAKF,YAAYG,MAAME,GAAWA,EAAEhJ,MAAQiJ,MAGhF,IAAKhG,EACD,MAAM,IAAIzD,MAAM,sCAAwCqI,GAG5D,OAAO5E,CACX,CEtZ4BiG,OADMpE,EAA0BoD,EAAOE,MAAMC,WAChBR,GAEjD,OADAU,EAAKY,aAAaC,IAAIT,EAAaT,EAAOmB,QAAQC,IAC3Cf,EAAKgB,IACf,CAED,MAA6B,iBAAlB7F,GAA8BA,aAA0B8F,IACxD,CAAE1J,UAAWwI,EAAc,IAAIkB,IAAI9F,EAAiB,GAAIyE,MAGnEzE,EAAe5D,UAAYwI,EAAc,IAAIkB,IAAI9F,EAAe5D,IAAM,GAAIqI,IACnEzE,EACX,CAyFA,SAAS+F,EACL7G,EACA8G,EACAxH,EACAgG,EACAxE,GAIA,IAAIiG,EAAQ1D,EAAUyD,EAAYE,mBAC7BC,OAAOC,SACP/G,KAAIsC,GAAQL,OAAOK,GAAMC,SACzBuE,OAAOC,SAaZ,GAVAH,EAAQA,EAAME,QAAO,CAACZ,EAAGc,MACPJ,EAAMjB,QAAQO,EAAGc,EAAI,IACtB,KACT1I,EAAM,yCAA4C4H,IAC3C,MAMVU,EAAMvF,OACP,OAAO4F,QAAQC,UAKnB,MAAMC,EAA8B,CAAA,EACpCP,EAAMvG,SAAQiC,IACV,MAAM8E,EAAM9E,EAAKG,MAAM,KAAKpB,OACvB8F,EAAOC,KACRD,EAAOC,GAAO,IAElBD,EAAOC,GAAKnI,KAAKqD,EAAK,IAK1B,IAAI+E,EAAqBJ,QAAQC,UAOjC,OANA/G,OAAOC,KAAK+G,GAAQG,OAAOjH,SAAQ+G,IAC/B,MAAMG,EAAQJ,EAAOC,GACrBC,EAAOA,EAAKjG,MAAK,IAAM6F,QAAQO,IAAID,EAAMvH,KAAKsC,GA1FtD,SACIzC,EACAyC,EACAmF,EACAtI,EACAgG,EACAxE,GAEA,MAAM+G,EAAOrF,EAAQxC,EAAKyC,GAC1B,GAAIoF,EAAM,CACN,MAAM3H,EAAUD,MAAMC,QAAQ2H,GAC9B,OAAOT,QAAQO,IAAItE,EAAUwE,GAAMZ,OAAOC,SAAS/G,KAAI,CAAC2H,EAAMX,KAC1D,MAAMY,EAAMD,EAAKE,UACjB,GAAID,EACA,OA/ChBnH,eACIqH,EACA3I,EACAgG,EACAxE,GAEA,IAAKxB,EAAM2I,GAAQ,CAEf,MAAMC,OAAEA,EAAMzK,QAAEA,GAAYqD,EAK5BxB,EAAM2I,GAAS3C,EAAOzE,QAAQ,CAC1B3D,IAAK+K,EACLxK,UACAyK,WACD3G,MAAK4G,IACJ7I,EAAM2I,GAASE,EACRA,KACPrK,IAEA,aADOwB,EAAM2I,GACPnK,CAAK,GAElB,CAED,OAAOwB,EAAM2I,EACjB,CAoBuBG,CAAOL,EAAKzI,EAAOgG,EAAQxE,GAAgBS,MAAK8G,IAC/CT,IACI1H,EACIuC,EAAKqD,QAAQ,OAAS,EACtB9C,EAAQhD,EAAK,GAAGyC,EAAKJ,QAAQ,KAAM,IAAI8E,QAASkB,GAEhDrF,EAAQhD,EAAK,GAAGyC,KAAQ0E,IAAKkB,GAGjCrF,EAAQhD,EAAKyC,EAAM4F,GAE1B,IACF/F,OAAOC,IAEN,GAAkB,MAAdA,EAAGvF,OACH,MAAMuF,CACT,GAER,IAER,CACL,CAwDmB+F,CAAWtI,EAAKyC,IAAQqE,EAAYc,MAAOtI,EAAOgG,EAAQxE,OACjE,IAED0G,CACX,CAcc,MAAOe,EAmIjB,WAAA1L,CAAY2L,EAAiChD,GA6uB7CrI,KAAKoC,MAAGA,EA3uBJ,MAAMkJ,EAAyB,iBAATjD,EAAoB,CAAEC,UAAWD,GAAUA,EAGjEN,EACIuD,EAAOhD,WAAagD,EAAOhD,UAAU9H,MAAM,iBAC3C,kEAGJR,KAAKqI,MAAQiD,EACbtL,KAAKqL,YAAcA,EACnBrL,KAAKuL,aAAe,KAEpB,MAAMpD,EAASnI,KAGfA,KAAKsJ,QAAU,CACX,MAAIC,GAAO,OAAOpB,EAAOqD,cAAiB,EAC1CC,KAAO9H,IACH,MAAM4F,EAAKvJ,KAAKsJ,QAAQC,GACxB,OAAOA,EACHvJ,KAAK0D,QAAQ,IAAKC,EAAgB5D,IAAK,WAAWwJ,MAClDU,QAAQyB,OAAO,IAAIjM,MAAM,4BAA4B,EAE7DiE,QAAS,CAACC,EAAgBgG,EAAc,KAChC3J,KAAKsJ,QAAQC,GACN,WACH,MAAM1F,QAAgBqE,EAAcvE,EAAgB3D,MACpD,OAAOA,KAAK0D,QAAQG,EAAS8F,EAChC,EAHM,GAKAM,QAAQyB,OAAO,IAAIjM,MAAM,8BAM5CO,KAAK2L,UAAY,CACb,MAAIpC,GAAO,OAAOpB,EAAOyD,gBAAmB,EAC5CH,KAAM9H,IACF,MAAM4F,EAAKvJ,KAAK2L,UAAUpC,GAC1B,OAAOA,EACHvJ,KAAK0D,QAAQ,IAAKC,EAAgB5D,IAAK,aAAawJ,MACpDU,QAAQyB,OAAO,IAAIjM,MAAM,8BAA8B,GAKnEO,KAAK6L,KAAO,CACR,YAAIC,GAAa,OAAO3D,EAAO4D,aAAgB,EAC/C,MAAIxC,GAAO,OAAOpB,EAAO6D,WAAc,EACvC,gBAAIlE,GAAiB,OAAOK,EAAO8D,aAAgB,EACnDR,KAAM9H,IACF,MAAMmI,EAAW9L,KAAK6L,KAAKC,SAC3B,OAAOA,EACH9L,KAAK0D,QAAQ,IAAKC,EAAgB5D,IAAK+L,IACvC7B,QAAQyB,OAAO,IAAIjM,MAAM,yBAAyB,EAGjE,CAMD,YAAA+L,GAEI,MAAMxE,EAAgBhH,KAAKqI,MAAMrB,cACjC,OAAIA,EAGKA,EAAcsC,QAUZtC,EAAcsC,UATXtJ,KAAKqI,MAAM6D,OAAS,IAAI1L,MAAM,0BAKhCc,EAAM,uGAJNA,EAAM,WAAa2G,EAAkB,UAAW,WAM7C,OAKXjI,KAAKqI,MAAM8D,aACX7K,EAAM,WAAa2G,EAAgB,kCAGnC3G,EAAM,WAAa2G,EAAmB,oBAEnC,KACV,CAQD,cAAA2D,GAEI,MAAM5E,EAAgBhH,KAAKqI,MAAMrB,cACjC,OAAIA,EAGKA,EAAc2E,UAUZ3E,EAAc2E,YATX3L,KAAKqI,MAAM6D,OAAS,IAAI1L,MAAM,4BAKhCc,EAAM,oKAJNA,EAAM,WAAa2G,EAAkB,YAAa,aAM/C,OAKXjI,KAAKqI,MAAM8D,aACX7K,EAAM,WAAa2G,EAAgB,oCAGnC3G,EAAM,WAAa2G,EAAmB,sBAEnC,KACV,CAOD,UAAAmE,GAEI,MAAMpF,EAAgBhH,KAAKqI,MAAMrB,cACjC,GAAIA,EAAe,CACf,MAAMqF,EAAUrF,EAAcsF,SACxBJ,EAAQlM,KAAKqI,MAAM6D,OAAS,GAIlC,IAAKG,EAAS,CACV,MAAME,EAAcL,EAAM1L,MAAM,cAC1BgM,EAAcN,EAAM1L,MAAM,eAC1BiM,EAAcP,EAAM1L,MAAM,gBAahC,OAFIc,EAVCiL,IAAeE,GAAeD,GAUzB,oFARF,wKAUD,IACV,CACD,OAAOnG,EAAUgG,EAASrM,KAAKqL,YAClC,CAOD,OANIrL,KAAKqI,MAAM8D,aACX7K,EAAM,WAAa2G,EAAgB,gBAGnC3G,EAAM,WAAa2G,EAAmB,YAEnC,IACV,CAOD,WAAA8D,GAEI,MAAMM,EAAUrM,KAAKoM,aACrB,OAAIC,EAGIA,EAAQP,SACDO,EAAQP,SAASrG,MAAM,KAAKiH,OAAO,GAAG9G,KAAK,KAE/CyG,EAAQM,QAEZ,IACV,CAKD,SAAAX,GAEI,MAAMW,EAAU3M,KAAK+L,cACrB,OAAIY,EACOA,EAAQlH,MAAM,KAAK,GAEvB,IACV,CAMD,WAAAwG,GAEI,MAAMU,EAAU3M,KAAK+L,cACrB,OAAIY,EACOA,EAAQlH,MAAM,KAAK,GAEvB,IACV,CAMD,sBAAAmH,GAEI,MAAMC,EAAc7M,KAAK8M,SAAS,8BAClC,GAAID,EACA,MAAO,UAAYA,EAEvB,MAAME,SAAEA,EAAQC,SAAEA,GAAahN,KAAKqI,MACpC,OAAI0E,GAAYC,EACL,SAAWhN,KAAKqL,YAAY4B,aAAaF,EAAW,IAAMC,GAE9D,IACV,CAMO,iBAAME,GACV,MAAMC,EAAUnN,KAAKqL,YAAY+B,aAC3B9J,QAAY6J,EAAQ5M,IAAIc,GAC1BiC,SACM6J,EAAQE,MAAM/J,SAElB6J,EAAQE,MAAMhM,GACpBrB,KAAKqI,MAAMrB,cAAgB,EAC9B,CAUD,MAAAsG,CACIC,EACA5J,GAGA,OAAO3D,KAAK0D,QAAQ,IACbC,EACH5D,IAAK,GAAGwN,EAASzF,eACjBvD,OAAQ,OACR9D,KAAMK,KAAKC,UAAUwM,GACrBjN,QAAS,CAEL,eAAgB,uBACZqD,GAAkB,CAAA,GAAIrD,UAGrC,CAWD,MAAAkN,CACID,EACA5J,GAGA,OAAO3D,KAAK0D,QAAQ,IACbC,EACH5D,IAAK,GAAGwN,EAASzF,gBAAgByF,EAAShE,KAC1ChF,OAAQ,MACR9D,KAAMK,KAAKC,UAAUwM,GACrBjN,QAAS,CAEL,eAAgB,uBACZqD,GAAkB,CAAA,GAAIrD,UAGrC,CAWD,OAAoBP,EAAa4D,EAA0C,IAEvE,OAAO3D,KAAK0D,QAAW,IAChBC,EACH5D,MACAwE,OAAQ,UAEf,CAoBD,WAAMkJ,CAA4C1N,EAAa0N,EAA6B9J,EAA0C,CAAA,GAGlI,OFtHF,SAA0B8J,GAC5B1F,EAAOjF,MAAMC,QAAQ0K,GAAQ,mCAC7B1F,EAAO0F,EAAMpJ,OAAS,EAAG,4CACzBoJ,EAAMpK,SAASqK,IACX3F,EACI,CAAC,MAAO,UAAW,OAAQ,OAAQ,OAAQ,UAAUY,QAAQ+E,EAAUC,KAAO,EAC9E,4HAEJ5F,EAAO2F,EAAUpI,aAAeoI,EAAUpI,KAAM,YAAYoI,EAAUC,0CAElD,OAAhBD,EAAUC,IAA+B,WAAhBD,EAAUC,IAAmC,QAAhBD,EAAUC,IAChE5F,EAAO,UAAW2F,EAAW,YAAYA,EAAUC,2CACnD5F,EAAwC,GAAjC5E,OAAOC,KAAKsK,GAAWrJ,OAAa,YAAYqJ,EAAUC,+CAG5C,QAAhBD,EAAUC,IAAgC,QAAhBD,EAAUC,IACzC5F,EAAgC,iBAAlB2F,EAAU/G,KAAkB,YAAY+G,EAAUC,oDAChE5F,EAAwC,GAAjC5E,OAAOC,KAAKsK,GAAWrJ,OAAa,YAAYqJ,EAAUC,+CAIjE5F,EAAwC,GAAjC5E,OAAOC,KAAKsK,GAAWrJ,OAAa,YAAYqJ,EAAUC,6CACpE,GAET,CE6FQC,CAAgBH,GACTzN,KAAK0D,QAAqB,IAC1BC,EACH5D,MACAwE,OAAQ,QACR9D,KAAMK,KAAKC,UAAU0M,GACrBnN,QAAS,CACLuN,OAAU,sBACV,eAAgB,gDACblK,EAAerD,UAG7B,CASD,aAAMoD,CACFC,EACAgG,EAAsC,CAAA,EACtCmE,EAAuC,CAAA,SAMvC,IAAI/N,EAHJgI,EAAOpE,EAAgB,0DAIM,iBAAlBA,GAA8BA,aAA0B8F,KAC/D1J,EAAMkF,OAAOtB,GACbA,EAAiB,CAAA,GAGjB5D,EAAMkF,OAAOtB,EAAe5D,KAGhCA,EAAMqG,EAASrG,EAAKC,KAAKqI,MAAMC,WAE/B,MAAMzE,EAAU,CACZ4G,OAA6B,IAAtBd,EAAYc,MACnBsD,OAASpE,EAAYoE,KACrBC,kBAAWpJ,EAAA+E,EAAYqE,yBAAa,EACpCnE,kBAAoBF,EAAYE,mBAAqB,GACrDoE,iBAAiD,IAAhCtE,EAAYsE,gBAC7BC,OAAqC,mBAAtBvE,EAAYuE,OACvBvE,EAAYuE,YAGZ1J,GAGFuG,EAAUpH,EAA+BoH,aAAUvG,EAOzD,IAAI7E,EAEJ,OANYkE,EAAQoK,gBAChBjO,KAAKmO,gBAAgB,CAAEpD,WAAU3G,MAAK,IAAMT,IAC5CsG,QAAQC,QAAQvG,IAQfS,MAAKT,IACF,MAAMyK,EAAapO,KAAK4M,yBAOxB,OANIwB,IACAzK,EAAerD,QAAU,IAClBqD,EAAerD,QAClB+N,cAAeD,IAGhBzK,CAAc,IAIxBS,MAAKT,IACFrC,EACI,mDACAvB,EACA4D,EACAE,GAEGH,EAAgC3D,EAAK4D,GAAgBS,MAAKsB,GACzD/B,EAAeC,iBACfjE,EAAY+F,EAA0C/F,SAC9C+F,EAA0CjF,MAE/CiF,OAKdP,OAAM1B,MAAO9C,IACV,GAAoB,KAAhBA,EAAMd,OAAe,CAGrB,IAAKG,KAAK8M,SAAS,8BAEf,MADAnM,EAAMC,SAAW,yEACXD,EAKV,IAAKkD,EAAQoK,gBAIT,MAHA3M,EAAM,4HACAtB,KAAKkN,cACXvM,EAAMC,SAAW,KAAOqH,EAClBtH,EAYV,MAHAW,EAAM,wEACAtB,KAAKkN,cACXvM,EAAMC,SAAW,KAAOqH,EAClBtH,CACT,CACD,MAAMA,CAAK,IAIdwE,OAAOxE,IAIJ,MAHoB,KAAhBA,EAAMd,QACNyB,EAAM,kGAEJX,CAAK,IAGdyD,MAAMkK,IAMEA,GAAuB,iBAARA,GAAoBA,aAAgBC,SAC/C5K,EAA2CC,gBACrC,CACHnD,KAAM6N,EACN3O,YAGD2O,EAIJ,OAAQE,IAEe,UAAtBA,EAAM1G,mBACAmC,QAAQO,KAAMgE,EAAiCC,OAAS,IAAIzL,KAAI2H,GAAQjB,EAC1EiB,EAAK4C,SACL1J,EACAiK,EACA9N,KACA2D,YAIE+F,EACF8E,EACA3K,EACAiK,EACA9N,KACA2D,GAID6K,GArBJ,CAsBJF,GAGElK,MAAKX,MAAM+K,IACR,GAAIA,GAA+B,UAAtBA,EAAM1G,aAA0B,CACzC,MAAM4G,EAASF,EAAMG,MAAQ,GAY7B,GAVI9K,EAAQkK,OACRS,GAASA,EAAMC,OAAS,IAAIzL,KACvByL,GAAuCA,EAAMlB,YAIlD1J,EAAQqK,cACFrK,EAAQqK,OAAOM,EAAO,IAAKV,MAG/BjK,EAAQmK,UAAW,CACrB,MAAMY,EAAOF,EAAM3F,MAAK8F,GAAmB,QAAdA,EAAEC,WAE/B,GADAN,EAAQtI,EAAUsI,GACdI,GAAQA,EAAK7O,IAAK,CAClB,MAAMgP,QAAiB/O,KAAK0D,QACxB,CACI3D,IAAK6O,EAAK7O,IAMVgL,UAEJlH,EACAiK,GAGJ,OAAIjK,EAAQqK,OACD,KAGPrK,EAAQgG,kBAAkBxF,QAC1BlB,OAAO6L,OAAOlB,EAAeiB,EAASE,YAC/BT,EAAMU,OAAOhJ,EAAU6I,EAAST,MAAQS,KAE5CP,EAAMU,OAAOhJ,EAAU6I,GACjC,CACJ,CACJ,CACD,OAAOP,CAAK,IAIfpK,MAAKoK,IACF,GAAI3K,EAAQ4G,MACRqD,EAAgB,CAAA,OAEf,IAAKjK,EAAQqK,QAAUrK,EAAQgG,kBAAkBxF,OAClD,MAAO,CACHiK,KAAME,EACNS,WAAYnB,GAGpB,OAAOU,CAAK,IAEfpK,MAAKoK,GACG7K,EAA2CC,gBACrC,CACHnD,KAAM+N,EACN7O,YAGD6O,KAG1B,CAWD,eAAAL,CAAgBxK,EAA8B,IAE1C,MAAMkJ,EAAe7M,KAAK8M,SAAS,8BAC7BqC,EAAenP,KAAK8M,SAAS,+BAC7BsC,EAAepP,KAAKqI,MAAM+G,WAAa,EAE7C,OAAIvC,GAAesC,GAAgBC,EAAY,GAAKtI,KAAKG,MAAQ,IACtDjH,KAAKqP,QAAQ1L,GAGjBsG,QAAQC,QAAQlK,KAAKqI,MAC/B,CAeD,OAAAgH,CAAQ1L,EAA8B,YAElCrC,EAAM,+DAEN,MAAM6N,EAA0C,QAA3BxK,EAAY,QAAZC,EAAA5E,KAAKqI,aAAO,IAAAzD,OAAA,EAAAA,EAAAoC,qBAAe,IAAArC,OAAA,EAAAA,EAAA2K,cAChDvH,EAAOoH,EAAc,8CAErB,MAAMI,EAAWvP,KAAKqI,MAAMkH,SAC5BxH,EAAOwH,EAAU,yCAEjB,MAAMC,EAASxP,KAAK8M,SAAS,wBAA0B,GACjD2C,EAAmBD,EAAOE,OAAO,uBAAyB,EAC1DC,EAAkBH,EAAOE,OAAO,sBAAwB,EAO9D,GANA3H,EAAO0H,GAAoBE,EAAiB,uEAMvC3P,KAAKuL,aAAc,CAEpB,MAAMqE,EAAwB,CAC1BC,YAAa7P,KAAKqI,MAAMyH,6BAA+B,iBACpDnM,EACHY,OAAS,OACTR,KAAS,OACTzD,QAAS,IACDqD,EAAerD,SAAW,GAC9B,eAAgB,qCAEpBG,KAAM,0CAA0CsP,mBAAmBZ,MAIvE,KAAM,kBAAmBS,EAAsBtP,SAAU,CACrD,MAAM0P,aAAEA,EAAYC,SAAEA,GAAajQ,KAAKqI,MACpC2H,IAEAJ,EAAsBtP,QAAQ+N,cAAgB,SAAWrO,KAAKqL,YAAY4B,aACtEgD,EAAW,IAAMD,GAG5B,CAEDhQ,KAAKuL,aAAe7H,EAAkC6L,EAAUK,GAC/DxL,MAAKkK,IACFvG,EAAOuG,EAAKnH,aAAc,4BAC1B7F,EAAM,wDAAyDgN,GAC/DtO,KAAKqI,MAAMrB,cAAgB,IAAKhH,KAAKqI,MAAMrB,iBAAkBsH,GAC7DtO,KAAKqI,MAAM+G,UAAYrI,EAAyBuH,EAAMtO,KAAKqL,aACpDrL,KAAKqI,SAEflD,OAAOxE,YAKJ,MAJ+B,QAA3BgE,EAAY,UAAZ3E,KAAKqI,aAAO,IAAAzD,OAAA,EAAAA,EAAAoC,qBAAe,IAAArC,OAAA,EAAAA,EAAA2K,iBAC3BhO,EAAM,yEACCtB,KAAKqI,MAAMrB,cAAcsI,eAE9B3O,CAAK,IAEduP,SAAQ,KACLlQ,KAAKuL,aAAe,KACpB,MAAMjI,EAAMtD,KAAKqI,MAAM/E,IACnBA,EACAtD,KAAKqL,YAAY+B,aAAa/D,IAAI/F,EAAKtD,KAAKqI,OAE5C/G,EAAM,8EACT,GAER,CAED,OAAOtB,KAAKuL,YACf,CAoBD,MAAAjE,CACIC,EACAC,GAGA,OAAOF,EAAOC,EAAcC,EAC/B,CAmBD,OAAA2I,CACI5I,EACAC,GAGA,OFxqBQ,SACZD,EACAC,GAGA,MAAM4I,EAAO9I,EAAOC,EAAcC,GAClC,MAAO,IAAI6I,IAAUA,EAChBvG,QAAOxH,GAASA,EAAO,KAAO8N,IAC9BrK,QACG,CAACuK,EAAMhO,IAASgO,EAAKpB,OAAOkB,EAAK9N,EAAO,MACxC,GAEZ,CE4pBe6N,CAAQ5I,EAAcC,EAChC,CAoBD,OAAAnC,CAAQxC,EAA0ByC,EAAO,IACrC,OAAOD,EAAQxC,EAAKyC,EACvB,CAcD,QAAAwH,CAASxH,EAAO,IACZ,OAAOD,EAAQ,IAAKrF,KAAKqI,OAAS/C,EACrC,CAMD,cAAAiL,GACI,OAAOxL,EAA0B/E,KAAKqI,MAAMC,WACvClE,MAAMoM,GAAaA,EAASC,aACpC,CASD,cAAAC,GACI,OAAO1Q,KAAKuQ,iBAAiBnM,MAAKnB,IAAI,IAAA2B,EAAC,eAACA,EAAAzD,EAAqB8B,kBAAM,CAAC,GACvE,EC/lCL,SAAS0N,IACL,MAAyB,iBAAXpP,MAClB,CAmBA,SAASqP,EAAuC5L,EAAU,IAAKrB,GAE3D,gBAb+BqB,EAAU,IAAKrB,GAE9C,MAAM5D,EAAMkF,OAAOD,GAASE,QAAQ,OAAQ,KAAO,kCACnD,OAAOT,EAAY1E,EAAK4D,GAAgBwB,OAAOC,IAC3C,MAAM,IAAI3F,MAAM,wCAAwCM,OAASqF,EAAGxE,UAAU,GAEtF,CAOWiQ,CAAmB7L,EAASrB,GAAgBS,MAAK0E,IACpD,IAAKA,EAAKgI,yBAA2BhI,EAAKiI,eACtC,MAAM,IAAItR,MAAM,yBAEpB,MAAO,CACHuR,gBAAsBlI,EAAKmI,uBAA0B,GACrD9E,aAAsBrD,EAAKgI,uBAC3BvB,SAAsBzG,EAAKiI,eAC3BG,qBAAsBpI,EAAKqI,kCAAoC,GAClE,GAET,CA8CgB,SAAAC,EAAsBpM,EAAU,KAE5C,OAAO4L,EAAuC5L,GACzCG,OAAM,IA5Cf,SAAuDH,EAAU,IAAKrB,GAElE,OAAOoB,EAA0BC,EAASrB,GAAgBS,MAAK0E,IAC3D,MACMuI,GAAehM,EAAQyD,GAAQ,CAAE,EAAE,8BAAgC,IACpEgB,QAAOwH,GAFE,0EAEGA,EAAEvR,MACdiD,KAAI2C,GAAKA,EAAE4L,YAAW,GAErBrO,EAAyC,CAC3C8N,gBAAsB,GACtB7E,aAAsB,GACtBoD,SAAsB,GACtB2B,qBAAsB,IAiB1B,OAdIG,GACAA,EAAWhO,SAAQmO,IACC,aAAZA,EAAIzR,MACJmD,EAAI8N,gBAAkBQ,EAAIC,UAEd,cAAZD,EAAIzR,MACJmD,EAAIiJ,aAAeqF,EAAIC,UAEX,UAAZD,EAAIzR,MACJmD,EAAIqM,SAAWiC,EAAIC,SACtB,IAIFvO,CAAG,GAElB,CAaqBwO,CAA8C1M,IACnE,CAYOvB,eAAekO,EAClBlQ,EACAmQ,EAAoE,IAGpE,MAAM7R,EAAM0B,EAAIoQ,SAGhB,GAAI/O,MAAMC,QAAQ6O,GAAS,CACvB,MAAME,EAAS/R,EAAIqJ,aAAa7I,IAAI,QAAUR,EAAIqJ,aAAa7I,IAAI,kBACnE,IAAKuR,EACD,MAAM,IAAIrS,MACN,2FAKR,MAAMsS,EAAMH,EAAO7I,MAAKE,IACpB,GAAIA,EAAE+I,SAAU,CACZ,GAA0B,mBAAf/I,EAAE+I,SACT,QAAS/I,EAAE+I,SAASF,GAExB,GAA0B,iBAAf7I,EAAE+I,SACT,OAAO/I,EAAE+I,WAAaF,EAE1B,GAAI7I,EAAE+I,oBAAoBC,OACtB,OAAOhJ,EAAE+I,SAASE,KAAKJ,EAE9B,CACD,OAAO,CAAK,IAGhB,OADA/J,EAAOgK,EAAK,gEAAgED,YAC/DH,EAAUlQ,EAAKsQ,EAC/B,CAID,MAAM/B,aACFA,EAAYmC,kBACZA,EAAiBC,YACjBA,EAAWC,OACXA,EAAMC,MACNA,EAAKC,OACLA,EAAMC,SACNA,EAAQC,sBACRA,EAAqB3C,4BACrBA,GACA8B,EAEJ,IAAIc,IACAA,EAAGC,OACHA,EAAMC,UACNA,EAASC,eACTA,EAAcC,YACdA,EAAWC,WACXA,EAAU7G,MACVA,EAAQ,GAAE+D,SACVA,EAAQ+C,iBACRA,EAAgBC,iBAChBA,GACArB,EAEJ,MAAMzE,EAAU1L,EAAI2L,aAGpBsF,EAAiB3S,EAAIqJ,aAAa7I,IAAI,QAAqBmS,EAC3DG,EAAiB9S,EAAIqJ,aAAa7I,IAAI,mBAAqBsS,EAC3DF,EAAiB5S,EAAIqJ,aAAa7I,IAAI,WAAqBoS,EAC3DC,EAAiB7S,EAAIqJ,aAAa7I,IAAI,cAAqBqS,EAC3D3C,EAAiBlQ,EAAIqJ,aAAa7I,IAAI,aAAqB0P,EAEtD6C,EAEOA,EAAYtS,MAAM,mBAC1BsS,EAAcrR,EAAIyR,SAASJ,IAF3BA,EAAcrR,EAAIyR,SAAS,KAK/B,MAAM5K,EAAYrD,OAAOyN,GAAOG,GAAkB,IAGlD,IAAKvK,EACD,MAAM,IAAI7I,MACN,uFAcR,GATIiT,GACApR,EAAM,sBAAuBqR,EAAS,MAAQ,cAI9CA,IAAWzG,EAAM1L,MAAM,YACvB0L,GAAS,WAGTyE,IAAa,CACb,MAAMwC,EAAUC,IACVC,EAAUC,KAEXH,GAAWE,KAAiC,IAArBL,IAAkD,IAArBA,IAMrDA,EAAmBG,EAInBjR,QAAQqR,KACJ,0TAOX,CAID,MAAMC,QAAerG,EAAQ5M,IAAIc,SAC3B8L,EAAQE,MAAMmG,GAGpB,MAAMC,EHuCJ,SACFC,EAAY,EACZC,EAAU,kEAGV,MAAMjO,EAAS,GACT0E,EAAMuJ,EAAQtP,OACpB,KAAOqP,KACHhO,EAAOzD,KAAK0R,EAAQC,OAAOhN,KAAKC,MAAMD,KAAKiN,SAAWzJ,KAE1D,OAAO1E,EAAOE,KAAK,GACvB,CGlDqBkO,CAAa,IACxBzL,EAAgC,CAClC4H,WACA/D,QACA4G,cACAxK,YACA0H,eACAiD,mBACAjM,cAAe,CAAE,EACjB1D,IAAKmQ,EACLT,mBACAP,wBACA3C,qCAGE3C,EAAQ9D,IAAIhI,EAAWoS,GAGzBtB,GACAhP,OAAO6L,OAAO3G,EAAMrB,cAAgBmL,GAIpCS,GACAzP,OAAO6L,OAAO3G,EAAMrB,cAAgB,CAAEsC,QAASsJ,IAI/CR,GACAjP,OAAO6L,OAAO3G,EAAMrB,cAAgB,CAAE2E,UAAWyG,IAGrD,IAAI2B,EAAcjB,EAAc,UAAY/C,mBAAmB0D,GAG/D,GAAIZ,IAAmBH,EAGnB,OAFApR,EAAM,+BACA6L,EAAQ9D,IAAIoK,EAAUpL,GACxB0K,EACOgB,QAEEtS,EAAIuS,SAASD,GAI9B,MAAM1C,QAAmBD,EAAsB9I,GAK/C,GAJAnF,OAAO6L,OAAO3G,EAAOgJ,SACflE,EAAQ9D,IAAIoK,EAAUpL,IAGvBA,EAAM8D,aACP,OAAI4G,EACOgB,QAEEtS,EAAIuS,SAASD,GAI9B,MAAME,EAAiB,CACnB,qBACA,aAAkBlE,mBAAmBE,GAAY,IACjD,SAAkBF,mBAAmB7D,GACrC,gBAAkB6D,mBAAmB+C,GACrC,OAAkB/C,mBAAmBzH,GACrC,SAAkByH,mBAAmB0D,IAQzC,GAJId,GACAsB,EAAehS,KAAK,UAAY8N,mBAAmB4C,IAoD3D,SAAgCuB,EAAwB1B,GACpD,GAAiB,aAAbA,EACA,OAAO,EAEX,GAAiB,aAAbA,EACA,OAAO,EAEX,GAAiB,aAAbA,EAAyB,CACzB,IAAK0B,EACD,MAAM,IAAIzU,MAAM,gHAEpB,OAAO,CACV,CACD,OAAOyU,CACX,CA/DQC,CAAuB9C,EAAWH,qBAAqBkD,SAAS,QAAS5B,GAAW,CACpF,IAAInC,QAAc5O,EAAI4S,SAASC,wBAC/BnR,OAAO6L,OAAO3G,EAAOgI,SACflD,EAAQ9D,IAAIoK,EAAUpL,GAC5B4L,EAAehS,KAAK,kBAAoBoG,EAAMkM,eAC9CN,EAAehS,KAAK,6BACvB,CAID,GAFA8R,EAAc1L,EAAM8D,aAAe,IAAM8H,EAAerO,KAAK,KAEzDmN,EACA,OAAOgB,EAGX,IAAI1B,IAAU1B,IAgCd,aAAalP,EAAIuS,SAASD,GAhC1B,CACI,IAAIS,EAIJ,GAFAA,QH8HD/Q,eAA+B4O,EAAiCC,EAAgB,IAAKC,EAAiB,KAUzG,GALqB,mBAAVF,IACPA,QAAeA,KAIfA,GAA2B,iBAAVA,EACjB,OAAOA,EAIX,GAAqB,iBAAVA,EAEP,OADA/Q,EAAM,4DAA6D+Q,GAC5DoC,KAIX,GAAc,SAAVpC,EACA,OAAOoC,KAIX,GAAc,WAAVpC,EACA,OAAOqC,OAIX,GAAc,QAAVrC,EACA,OAAOsC,KAAOF,KAIlB,GAAc,UAAVpC,EAAoB,CACpB,IAAI1R,EAAOiU,EAA8B,KACzC,IAEI,GADAA,EAAerT,OAAOsT,KAAK,GAAI,mBAC1BD,EACD,MAAM,IAAInV,MAAM,kCAEvB,CAAC,MAAO6R,GACL3Q,EAAQ2Q,CACX,CAED,OAAKsD,IACDtT,EAAM,kDAAmDX,GAClD8T,KAId,CAGD,GAAc,SAAVpC,EAAmB,CACnB,IAAI1R,EAAOiU,EAA8B,KAEzC,IAUI,GATAA,EAAerT,OAAOsT,KAAK,GAAI,iBAAkB,CAC7C,UAAYtC,EACZ,SAAWD,EACX,YACA,cACA,WACA,QAAUwC,OAAOvC,OAASA,GAAU,EACpC,SAAWuC,OAAOxC,MAAQA,GAAS,GACrC1M,KAAK,OACFgP,EACD,MAAM,IAAInV,MAAM,uCAEvB,CAAC,MAAO6R,GACL3Q,EAAQ2Q,CACX,CAED,OAAKsD,IACDtT,EAAM,kDAAmDX,GAClD8T,KAId,CAGD,MAAMM,EAAqBC,OAAO3C,GAClC,OAAI0C,IAIJzT,EAAM,gDAAiD+Q,GAChDoC,KACX,CG1NoBQ,CAAgB5C,EAAQC,EAAOC,GAEvCiC,IAAQC,KACR,IAGID,EAAIU,eAAeC,WAAW3B,GAC9BgB,EAAIU,eAAeE,QAAQ3B,EAAU3S,KAAKC,UAAUsH,GACvD,CAAC,MAAOjD,GACL9D,EAAM,oHAAqH8D,GAC3HoP,EAAMC,IACT,CAGL,GAAID,IAAQC,KACR,IACID,EAAIlQ,SAASkF,KAAOuK,EACpBU,KAAKY,iBAAiB,UAAWC,EACpC,CAAC,MAAOlQ,GACL9D,EAAM,8GAA+G8D,GACrHqP,KAAKnQ,SAASkF,KAAOuK,CACxB,MAEDU,KAAKnQ,SAASkF,KAAOuK,CAI5B,CAGL,UAwBgBX,IACZ,IACI,OAAOqB,OAASE,KAAOD,SAAWD,IACrC,CAAC,MAAOnD,GACL,OAAO,CACV,CACL,UASgBgC,IACZ,IACI,OAAOmB,OAASE,OACPY,QACFA,SAAWd,QACTlT,OAAOtB,IACnB,CAAC,MAAOqR,GACL,OAAO,CACV,CACL,CAOM,SAAUgE,EAAUhE,GACH,gBAAfA,EAAEhD,KAAKjO,MAA0BiR,EAAEkE,SAAW,IAAI/L,IAAIgL,KAAKnQ,SAASkF,MAAMgM,SAC1EjU,OAAOkU,oBAAoB,UAAWH,GACtC/T,OAAO+C,SAASkF,KAAO8H,EAAEhD,KAAKvO,IAEtC,CAQO0D,eAAeiS,EAAMjU,EAAyBoC,EAAmC,YAEpF,MAAM9D,EAAM0B,EAAIoQ,SACV8D,EAAUlU,EAAI2L,aACdwE,EAAS7R,EAAIqJ,aAEnB,IAAI9F,EAAyBsO,EAAOrR,IAAI,SACxC,MAAM+B,EAAuBsP,EAAOrR,IAAI,QAClCqV,EAAuBhE,EAAOrR,IAAI,SAClCsV,EAAuBjE,EAAOrR,IAAI,qBAexC,GAbK+C,IACDA,QAAYqS,EAAQpV,IAAIc,IAYxBuU,GAAaC,EACb,MAAM,IAAIpW,MAAM,CACZmW,EACAC,GACF/L,OAAOC,SAASnE,KAAK,OAG3BtE,EAAM,oBAAqBgC,EAAKhB,GAGhCyF,EAAOzE,EAAK,0DAGZ,IAAI+E,QAAesN,EAAQpV,IAAI+C,GAI/B,GAAIqN,KAAetI,IAAUA,EAAM2K,iBAAkB,CAEjD,MAAMG,EAAUC,IACVC,EAAUC,IAQhB,IAAKH,GAAWE,KAAatT,EAAIqJ,aAAa7I,IAAI,YAAa,CAC3DR,EAAIqJ,aAAaC,IAAI,WAAY,KACjC,MAAMG,KAAEA,EAAIgM,OAAEA,GAAWzV,EASzB,OARIoT,GACAuB,OAAOoB,YAAY,CAAEzV,KAAM,eAAgBN,IAAKyJ,GAAQgM,GAExDnC,IACAkC,OAAOO,YAAY,CAAEzV,KAAM,eAAgBN,IAAKyJ,GAAQgM,GACxDjU,OAAOwU,SAGJ,IAAI9L,SAAQ,QACtB,CACJ,CAEDlK,EAAIqJ,aAAa4M,OAAO,YAGxB,MAAMC,EAAWrE,EAAOsE,IAAI,SAExBvF,MAAgBrO,GAAQ2T,KAIpB3T,IACAsP,EAAOoE,OAAO,QACd1U,EAAM,yCAKN2U,IACArE,EAAOoE,OAAO,SACd1U,EAAM,0CAKVC,OAAO4U,QAAQC,aAAa,CAAA,EAAI,GAAIrW,EAAIyJ,OAI5CzB,EAAOM,EAAO,8CAQd,MAJoB/F,IAA2B,QAAnBsC,EAAAyD,EAAMrB,qBAAa,IAAApC,OAAA,EAAAA,EAAEuC,gBAI9BkB,EAAMkH,SAAU,CAE/BxH,EAAOzF,EAAM,oCAEbhB,EAAM,sDACN,MAAMqC,QA0CPF,eACHhC,GACAa,KACIA,EAAI+F,MACJA,EAAKoK,sBACLA,EAAqB4D,WACrBA,IA8BJ,MAAMvD,YAAEA,EAAW9C,aAAEA,EAAYT,SAAEA,EAAQU,SAAEA,EAAQqG,aAAEA,GAAiBjO,EAExEN,EAAO+K,EAAa,6BACpB/K,EAAOwH,EAAU,0BACjBxH,EAAOkI,EAAU,0BAEjB,MAAMtM,EAAsC,CACxCY,OAAQ,OACRjE,QAAS,CAAE,eAAgB,qCAC3BG,KAAM,QAAQ6B,gDACVyN,mBAAmB+C,MAU3B,GAAI9C,EACArM,EAAerD,QAAQ+N,cAAgB,SAAW5M,EAAIwL,aAClDgD,EAAW,IAAMD,GAErB1O,EACI,qEACAqC,EAAerD,QAAQ+N,oBAK1B,GAAIgI,EAAY,CAEjB,MAAME,EAAK,QAASF,EAChBA,EAAW/S,UACL7B,EAAI4S,SAASmC,UAAUH,GAE3BI,EAAa,CACfC,IAAK,MACLC,IAAKN,EAAWM,IAChBC,IAAKnE,GAAyBpK,EAAMoK,uBAGlCoE,EAAY,CACdnE,IAAKzC,EACL/E,IAAK+E,EACL6G,IAAKvH,EACLwH,IAAKtV,EAAIuV,gBAAgBvV,EAAI4S,SAAS4C,YAAY,KAClD5P,IAAKZ,EAAgB,MAGnByQ,QAAwBzV,EAAI4S,SAAS8C,eAAed,EAAWe,IAAKb,EAAIE,EAAYI,GAC1FlT,EAAelD,MAAQ,0BAA0BsP,mBAAmB,4DACpEpM,EAAelD,MAAQ,qBAAqBsP,mBAAmBmH,KAC/D5V,EAAM,0EACT,MAIGA,EAAM,kEACNqC,EAAelD,MAAQ,cAAcsP,mBAAmBE,KAGxDqG,IACFhV,EAAM,qDAENqC,EAAelD,MAAQ,kBAAoB6V,GAG7C,OAAO3S,CACX,CApJqC0T,CAAkB5V,EAAK,CAChDa,OACA+F,QACAoK,sBAAuB5O,EAAQ4O,sBAC/B4D,WAAYxS,EAAQwS,YAAchO,EAAM4K,mBAE5C3R,EAAM,4BAA6BqC,GAKnC,MAAMqD,QAAsBtD,EAAkC2E,EAAMkH,SAAU5L,GAC9ErC,EAAM,qBAAsB0F,GAC5Be,EAAOf,EAAcG,aAAc,kCAGnCkB,EAAM+G,UAAYrI,EAAyBC,EAAevF,GAI1D4G,EAAQ,IAAKA,EAAOrB,uBACd2O,EAAQtM,IAAI/F,EAAK+E,GACvB/G,EAAM,4BACT,MAEGA,GAAyB,QAAnBqD,EAAA0D,EAAMrB,qBAAa,IAAArC,OAAA,EAAAA,EAAEwC,cACvB,qBACA,iCAIFwO,EAAQtM,IAAIhI,EAAWiC,GAE7B,MAAM6E,EAAS,IAAIiD,EAAO3J,EAAK4G,GAE/B,OADA/G,EAAM,8BAA+B6G,GAC9BA,CACX,CC5jBc,MAAOwN,EAMjB,SAAMpV,CAAI+C,GAEN,MAAMf,EAAQ2S,eAAe5R,GAC7B,OAAIf,EACOzB,KAAKX,MAAMoC,GAEf,IACV,CAMD,SAAM8G,CAAI/F,EAAaf,GAGnB,OADA2S,eAAe5R,GAAsCxC,KAAKC,UAAUwB,GAC7DA,CACV,CAOD,WAAM8K,CAAM/J,GAER,OAAIA,KAAO4R,wBACAA,eAAe5R,IACf,EAGd,ECrCC,SAAU0T,EAAgBM,GAa5B,OAVIA,aAAiBC,aACjBD,EA+BF,SAAmCA,GAErC,IAAIE,EAAS,GACb,IAAK,IAAIxN,EAAI,EAAGA,EAAIsN,EAAMjT,OAAQ2F,IAC9BwN,GAAUvS,OAAOwS,aAAaH,EAAMtN,IAExC,OAAOwN,CACX,CAtCgBE,CAAyBJ,IAIxBK,KAAKL,GAGKpS,QAAQ,MAAO,KAAKA,QAAQ,MAAO,KAAKA,QAAQ,MAAO,GAGlF,CAEM,SAAU0S,EAAgBN,GAG5B,IAAIO,EAASP,EAAMpS,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KAGpD,MAAM4S,EAAMD,EAAOxT,OAAS,EACxByT,IACAD,GAAU,IAAIE,OAAO,EAAID,IAI7B,IACI,OAAOE,KAAKH,EACf,CAAC,MAAOvG,GACL,MAAM,IAAI7R,MAAM,2BACnB,CACL,CC7BO,MAAMwY,EAAS,KAClB,KAAK,OAAAC,iBAAAA,cAAAA,OAAQD,QAAQ,CACjB,IAAKpT,WAAWsT,gBACZ,MAAM,IAAI1Y,MACN,2NAKR,MAAM,IAAIA,MACN,kHAGP,CACD,OAAOyY,OAAOD,MAAM,EASlBG,EAAO,CACTC,MAAO,CACHpY,KAAM,QACNqY,WAAY,SAEhBC,MAAO,CACHtY,KAAM,oBACNuY,cAAe,KACfC,eAAgB,IAAIlB,WAAW,CAAC,EAAG,EAAG,IACtCmB,KAAM,CACFzY,KAAM,aAKZ,SAAUgX,EAAY0B,GACxB,OAAOT,OAAOU,gBAAgB,IAAIrB,WAAWoB,GACjD,CAEOlV,eAAeoV,EAAatS,GAC/B,MAAMuS,GAAW,IAAIC,aAAcC,OAAOzS,GACpCmS,QAAaT,IAASgB,OAAO,UAAWH,GAC9C,OAAO,IAAIvB,WAAWmB,EAC1B,0EAEqCjV,MAAOyV,EAAU,MAClD,MACM5C,EAAgBU,EADAC,EAAYiC,IAGlC,MAAO,CAAE3E,cADayC,QAAsB6B,EAAavC,IACjCA,eAAc,YAGnC7S,eAAyB0V,GAE5B,IAAKA,EAAI/B,IACL,MAAM,IAAI3X,MAAM,mEAYpB,GALKqD,MAAMC,QAAQoW,EAAIC,WACnBD,EAAIC,QAAU,CAAC,UAIdD,EAAIC,QAAQhF,SAAS,QACtB,MAAM,IAAI3U,MAAM,6DAGpB,IACI,aAAawY,IAASoB,UAClB,MACAF,EACAf,EAAKe,EAAI/B,MACG,IAAZ+B,EAAI3H,IACJ2H,EAAIC,QAEX,CAAC,MAAO9H,GACL,MAAM,IAAI7R,MAAM,OAAO0Z,EAAI/B,yCAAyC9F,IACvE,CACL,+BAEO7N,eAA8B2T,EAAwBf,EAAuBiD,EAAa/S,GAC7F,MAAMgT,EAAazY,KAAKC,UAAU,IAAKuY,EAAQlC,QACzCoC,EAAa1Y,KAAKC,UAAUwF,GAC5BkT,EAA0B,GAAGzC,EAAgBuC,MAAcvC,EAAgBwC,KAE3EE,QAAkBzB,IAAS0B,KAC7B,IAAKtD,EAAWuD,UAAWlB,KAAM,WACjCrC,GACA,IAAI0C,aAAcC,OAAOS,IAG7B,MAAO,GAAGA,KAA2BzC,EAAgB,IAAIO,WAAWmC,KACxE,aCpGA,MAAMhE,MAAEA,EAAK/D,UAAEA,EAASkI,KAAEA,EAAI1R,OAAEA,EAAMtE,QAAEA,EAAOiW,MAAEA,IAAU,ICO7C,MAsBV,WAAApa,CAAYmE,EAA0C,IAjB9C7D,KAAIwI,KAAe,KAKnBxI,KAAQ+Z,SAA8B,KAO9C/Z,KAAQqU,SAAGA,EAOPrU,KAAK6D,QAAU,IAAKA,EACvB,CAKD,QAAAqP,CAAS5N,GAEL,OAAO,IAAImE,IAAInE,EAAMtF,KAAK6R,SAASrI,MAAMA,IAC5C,CAMD,MAAAqI,GAKI,OAHK7R,KAAKwI,OACNxI,KAAKwI,KAAO,IAAIiB,IAAInF,SAAW,KAE5BtE,KAAKwI,IACf,CAMD,QAAAwL,CAASgG,GAEL1V,SAASkF,KAAOwQ,CACnB,CAMD,UAAA5M,GAKI,OAHKpN,KAAK+Z,WACN/Z,KAAK+Z,SAAW,IAAIE,GAEjBja,KAAK+Z,QACf,CAKD,YAAA9M,CAAahF,GAET,OAAO1G,OAAOoW,KAAK1P,EACtB,CAKD,YAAAzB,CAAayB,GAET,OAAO1G,OAAOyW,KAAK/P,EACtB,CAED,eAAA+O,CAAgBM,GAEZ,OAAON,EAAgBM,EAC1B,CAED,eAAAM,CAAgBN,GAEZ,OAAOM,EAAgBN,EAC1B,CASD,WAAA4C,GAEI,MAAO,CACHxE,MAAW,IAAI5T,IAAgB4T,EAAM1V,QAAS8B,GAC9C6P,UAAW9N,GAAW8N,EAAU3R,KAAM6D,GACtCgW,KAAWhW,GLylBhBJ,eACHhC,EACA0Y,EACAC,GAGA,MAAMra,EAAQ0B,EAAIoQ,SACZvP,EAAQvC,EAAIqJ,aAAa7I,IAAI,QAC7B8H,EAAQtI,EAAIqJ,aAAa7I,IAAI,SAGnC,GAAI+B,GAAQ+F,EACR,OAAOqN,EAAMjU,EAAK2Y,GAMtB,MAAMjN,EAAU1L,EAAI2L,aACd9J,EAAU+E,SAAe8E,EAAQ5M,IAAIc,GACrCgZ,QAAgBlN,EAAQ5M,IAAI+C,GAClC,OAAI+W,EACO,IAAIjP,EAAO3J,EAAK4Y,GAIpB1I,EAAUlQ,EAAK0Y,GAAkB/V,MAAK,IAQlC,IAAI6F,SAAQ,UAE3B,CK7nBkC4P,CAAK7Z,KAAM6D,GACjCsE,OAAYE,GAA2C,IAAI+C,EAAOpL,KAAMqI,GACxExE,QAAW7D,KAAK6D,QAChBiW,MAAO,CACHzF,WACAuD,kBACAZ,kBACAxQ,aAAcjF,OAAOyW,KAAKsC,KAAK/Y,QAC/B0L,aAAc1L,OAAOoW,KAAK2C,KAAK/Y,SAG1C,ID5H2E2Y,oBAEjE,CACX/R,SACA2R,QACAS,OAAQ,CACJC,SAAU3W,EACV6R,QACA/D,YACAkI"}